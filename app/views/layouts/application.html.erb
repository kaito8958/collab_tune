<!DOCTYPE html>
<html>
  <head>
    <title>CollabTune</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

<body data-current-user-id="<%= current_user&.id %>"
        data-current-room-id="<%= @chat_room&.id %>"
        class="min-h-screen flex flex-col bg-gray-50 text-gray-800">

    <!-- 共通ヘッダー -->
    <%= render "shared/header" %>

    <!-- 通知メッセージ -->
    <% if notice.present? %>
      <p class="bg-green-100 text-green-800 px-4 py-2 text-sm text-center"><%= notice %></p>
    <% end %>
    <% if alert.present? %>
      <p class="bg-red-100 text-red-800 px-4 py-2 text-sm text-center"><%= alert %></p>
    <% end %>

    <!-- 各ページのメインコンテンツ -->
    <main class="flex-grow container mx-auto px-4 py-6">
      <%= yield %>
    </main>

    <!-- 共通フッター（後で作成） -->
    <%= render "shared/footer" if lookup_context.exists?("shared/_footer") %>
  </body>
</html>