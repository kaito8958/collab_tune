<!DOCTYPE html>
<html>
  <head>
    <title>CollabTune</title>
    <meta name="turbo-cache-control" content="no-cache">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css", crossorigin: "anonymous" %>
    <%= javascript_importmap_tags %>
  </head>

<body data-current-user-id="<%= current_user&.id %>"
        data-current-room-id="<%= @chat_room&.id %>"
        class="min-h-screen flex flex-col text-gray-800 bg-gradient-to-b from-[#C7D3E0] to-[#E5EBF2]">

    <!-- トーストメッセージ -->
    <%= render "shared/flash" %> 
    <!-- 共通ヘッダー -->
    <%= render "shared/header" %>

    <!-- 各ページのメインコンテンツ -->
    <main class="flex-grow container mx-auto px-4 py-6 bg-gradient-to-b from-[#C7D3E0] to-[#E5EBF2]">
      <%= yield %>
    </main>

    <!-- 共通フッター（後で作成） -->
<% unless controller_name.in?(["chat_rooms", "sessions", "registrations"]) %>
  <%= render "shared/footer" %>
<% end %>
  </body>
</html>