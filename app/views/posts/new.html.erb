<div class="min-h-screen flex items-center justify-center bg-gradient-to-b from-[#C7D3E0] to-[#E5EBF2] px-4 py-10">
  <div class="bg-white/90 backdrop-blur-md shadow-xl rounded-2xl p-8 w-full max-w-2xl border border-gray-200">
    <h2 class="text-2xl font-extrabold text-center text-gray-800 mb-2">Êñ∞„Åó„ÅÑÊ•ΩÊõ≤„ÇíÊäïÁ®ø</h2>
    <p class="text-center text-sm text-gray-500 mb-8">
      „ÅÇ„Å™„Åü„ÅÆÈü≥„Çí„Ç∑„Çß„Ç¢„Åó„Å¶„ÄÅÂÖ±„Å´‰Ωú„Çã‰ª≤Èñì„ÇíË¶ã„Å§„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ
    </p>

    <%= form_with(model: @post, local: true, multipart: true, data: { controller: "post-form" }) do |f| %>
      <%= render "devise/shared/error_messages", resource: @post %>

      <div class="space-y-6">


        <!-- „Çø„Ç§„Éà„É´ -->
        <div>
          <%= f.label :title, "„Çø„Ç§„Éà„É´", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.text_field :title, placeholder: "‰æãÔºöÂ§úÊòé„Åë„ÅÆ„Ç∑„ÉÜ„Ç£„Éù„ÉÉ„Éó", class: "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none" %>
        </div>

        <!-- Èü≥Ê∫ê„Éï„Ç°„Ç§„É´ -->
        <div>
          <%= f.label :audio, "Èü≥Ê∫ê„Éï„Ç°„Ç§„É´ÔºàMP3ÂΩ¢ÂºèÔºâ", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.file_field :audio, accept: "audio/mpeg", class: "w-full px-3 py-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-purple-400 focus:outline-none" %>
          <p class="text-xs text-gray-500 mt-1">‚Äª MP3ÂΩ¢Âºè„Éª10MB‰ª•‰∏ãÊé®Â•®</p>
        </div>

        <!-- „Ç∏„É£„É≥„É´ÔºàË§áÊï∞Ôºâ -->
        <div>
          <%= f.label :genre_ids, "„Ç∏„É£„É≥„É´", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <div class="grid grid-cols-2 gap-2">
            <% Genre.all.each do |genre| %>
              <label class="flex items-center space-x-2">
                <%= check_box_tag "post[genre_ids][]", genre.id, @post.genre_ids&.include?(genre.id), class: "rounded text-purple-600 focus:ring-purple-500" %>
                <span class="text-gray-700 text-sm"><%= genre.name %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- „ÉÜ„É≥„Éù -->
        <div>
          <%= f.label :tempo, "„ÉÜ„É≥„ÉùÔºàBPMÔºâ", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.number_field :tempo, value: @post.tempo || 120, class: "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none" %>
        </div>

        <!-- Ë™¨Êòé -->
        <div class="mb-8">
          <%= f.label :description, "Ë™¨Êòé", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.text_area :description, rows: 4, placeholder: "‰æãÔºö„Ç∑„ÉÜ„Ç£„Éù„ÉÉ„ÉóË™ø„ÅÆÊõ≤„Åß„Åô„ÄÇ„Éú„Éº„Ç´„É´„Éª‰ΩúË©û„ÇíÂãüÈõÜ„Åó„Å¶„ÅÑ„Åæ„ÅôÔºÅ", 
          class: "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none resize-none " %>
        </div>



        <!-- ÂãüÈõÜÁä∂ÊÖã„Çª„É¨„ÇØ„Éà -->
        <div >
          <%= f.label :status, "ÂãüÈõÜÁä∂ÊÖã", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.select :status,
                Post.statuses.keys.map { |k| [k == "recruiting" ? "üü¢ „Ç≥„É©„ÉúÂãüÈõÜ‰∏≠" : "üîí ÂãüÈõÜÂÅúÊ≠¢", k] },
                {},
                class: "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none",
                data: { "post-form-target": "statusSelect", action: "change->post-form#toggleRecruitFields" } %>
        </div>

        <!-- ‰ª•‰∏ã„ÄÅÂãüÈõÜ‰∏≠„ÅÆ„Å®„Åç„ÅÆ„ÅøË°®Á§∫ -->
        <div data-post-form-target="recruitFields" class="<%= @post.recruiting? ? '' : 'hidden' %> mt-6 space-y-4">

          <!-- ÂãüÈõÜ„Éë„Éº„Éà -->
          <div class="mb-8">
            <%= f.label :looking_for_skill_ids, "ÂãüÈõÜ„Éë„Éº„Éà", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <div class="grid grid-cols-2 gap-2">
              <% LookingForSkill.all.each do |skill| %>
                <label class="flex items-center space-x-2">
                  <%= check_box_tag "post[looking_for_skill_ids][]", skill.id, @post.looking_for_skill_ids&.include?(skill.id), class: "rounded text-purple-600 focus:ring-purple-500" %>
                  <span class="text-gray-700 text-sm "><%= skill.name %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- ÂãüÈõÜ„ÅÆË©≥Á¥∞ -->
          <div>
            <%= f.label :recruiting_details, "ÂãüÈõÜ„ÅÆË©≥Á¥∞Ôºà„Å©„Çì„Å™„Ç≥„É©„Éú„ÇíÊ±Ç„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÅãÔºüÔºâ", class: "block text-sm font-medium text-gray-700 mb-1" %>
            <%= f.text_area :recruiting_details,
                  rows: 4,
                  placeholder: "‰æãÔºöËã±Ë™ûË©û„ÅåÂæóÊÑè„Å™„Éú„Éº„Ç´„É´„Åï„Çì„ÇíÂãüÈõÜ„Åó„Å¶„ÅÑ„Åæ„ÅôÔºÅ„É°„É≠„Éá„Ç£„É©„Ç§„É≥„Å´ÂÄãÊÄß„ÇíÂá∫„Åõ„ÇãÊñπ„Å†„Å®„ÅÜ„Çå„Åó„ÅÑ„Åß„Åô„ÄÇ",
                  class: "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none resize-none" %>
          </div>
        </div>

        <!-- ÊäïÁ®ø„Éú„Çø„É≥ -->
        <div class="pt-6">
          <%= f.submit "ÊäïÁ®ø„Åô„Çã", class: "w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all" %>
        </div>
      </div>
    <% end %>

    <div class="mt-8 text-center">
      <%= link_to "‚Üê „Éà„ÉÉ„Éó„Å´Êàª„Çã", posts_path, class: "text-sm text-purple-600 hover:underline" %>
    </div>
  </div>
</div>
